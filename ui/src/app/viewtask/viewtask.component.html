<div class="container">

    <!-- Error Alert -->
    <div *ngIf="ifAnyError" class="alert alert-danger alert-dismissible fade show" role="alert">
        <strong>Error!</strong> {{ errorAlertMessage }}
        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>

    <form>
        <div class="search-area">
            <div class="col-sm-12 row" style="margin: 5px 0px">
                <div class="col-sm-4">
                    <div class="form-group row">
                        <label class="col-sm-5 col-form-label-sm" for="inputTaskName">Task</label>
                        <div class="col-sm-7">
                            <input type="text" class="form-control form-control-sm" id="inputTaskName" placeholder="Task"  [(ngModel)]="task.taskname" [ngModelOptions]="{standalone: true}" (ngModelChange) = 'searchByTaskName(task.taskname)'>
                        </div>                    
                    </div>
                    <div class="form-group row">
                        <label class="col-sm-5 col-form-label-sm" for="inputPTaskName">Parent Task</label>
                        <div class="col-sm-7">
                            <input type="text" class="form-control form-control-sm" id="inputPTaskName" placeholder="Parent Task" [(ngModel)]="task.parenttask" [ngModelOptions]="{standalone: true}" (ngModelChange) = 'searchByParentTask(task.parenttask)'>
                        </div>
                    </div>
                </div>
                <div class="col-sm-4">
                    <div class="form-group row">
                        <label class="col-sm-5 col-form-label-sm" for="inputPriorityFrom">Priority From</label>
                        <div class="col-sm-7">
                            <input type="text" class="form-control form-control-sm" id="inputPriorityFrom" [(ngModel)]="task.priority" [ngModelOptions]="{standalone: true}" (ngModelChange) = 'searchByPriorityFrom(task.priority)'>
                        </div>                    
                    </div>
                    <div class="form-group row">
                        <label class="col-sm-5 col-form-label-sm" for="inputPriorityTo">Priority To</label>
                        <div class="col-sm-7">
                            <input type="text" class="form-control form-control-sm" id="inputPriorityTo" [(ngModel)]="task.priorityTo" [ngModelOptions]="{standalone: true}" (ngModelChange) = 'searchByPriorityTo(task.PriorityTo)'>
                        </div>                    
                    </div>
                </div>                
                <div class="col-sm-4">
                    <div class="form-group row">
                        <label class="col-sm-4 col-form-label-sm" for="inputStartDate">Start Date</label>
                        <div class="col-sm-8">
                            <input type="date" class="form-control form-control-sm" id="inputStartDate" [(ngModel)]="task.startdt" [ngModelOptions]="{standalone: true}" (ngModelChange) = 'searchByStartDate(task.startdt)'>
                        </div>
                    </div>
                    <div class="form-group row">
                        <label class="col-sm-4 col-form-label-sm" for="inputEndDate">End Date</label>
                        <div class="col-sm-8">
                            <input type="date" class="form-control form-control-sm" id="inputEndDate" [(ngModel)]="task.enddt" [ngModelOptions]="{standalone: true}" (ngModelChange) = 'searchByEndDate(task.enddt)'>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="view-area">
            <div class="col-sm-12 row">
                <div class="col-sm-2">Task</div>
                <div class="col-sm-2">Parent</div>
                <div class="col-sm-1">Priority</div>
                <div class="col-sm-2">Start</div>
                <div class="col-sm-2">End</div>
                <div class="col-sm-3">Action</div>
            </div>
            <hr>
            <div class="col-sm-12 row" *ngFor="let task of allTasks" style="margin-bottom: 5px">
                <div class="col-sm-2">
                    <input type="text" class="form-control form-control-sm" id="inputTaskNameView" placeholder="Task" readonly value={{task.taskname}}>
                </div>
                <div class="col-sm-2">
                    <input type="text" class="form-control form-control-sm" id="inputPTaskNameView" placeholder="Parent Task" readonly value={{task.parenttaskname}}>
                </div>
                <div class="col-sm-1">
                    <input type="text" class="form-control form-control-sm" id="inputPriorityView" placeholder="30" readonly value={{task.priority}}>
                </div>
                <div class="col-sm-2">
                    <input type="text" class="form-control form-control-sm" id="inputStartDateView" readonly value={{task.startdt}}>
                </div>
                <div class="col-sm-2">
                    <input type="text" class="form-control form-control-sm" id="inputEndDateView" readonly value={{task.enddt}}>
                </div>
                <div class="col-sm-3 row">
                    <button type="button" class="btn btn-sm btn-success" (click)="editTask(task.taskname)" [disabled]="!task.status"><i class="fa fa-pencil"></i>&nbsp;Edit Task</button>&nbsp;&nbsp;
                    <button type="button" class="btn btn-sm btn-danger" (click)="endTask(task.taskname)" [disabled]="!task.finished"><i class="fa fa-times"></i>&nbsp;End Task</button>
                </div>
            </div>
        </div>
    </form>
</div>